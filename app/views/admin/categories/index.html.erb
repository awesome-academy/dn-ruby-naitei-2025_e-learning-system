<div class="container mt-4">
  <h2 class="mb-3"><%= t('admin.categories.index.title') %></h2>

  <%= link_to t('admin.categories.index.new_category'),
              new_admin_category_path,
              class: 'btn btn-primary mb-3' %>

  <table class="table table-bordered table-hover">
    <thead class="table-light">
      <tr>
        <th><%= t('admin.categories.index.name') %></th>
        <th><%= t('admin.categories.index.description') %></th>
        <th><%= t('admin.categories.index.parent') %></th>
        <th><%= t('admin.categories.index.actions') %></th>
      </tr>
    </thead>
    <tbody>
      <% @categories.each do |category| %>
        <tr>
          <td><%= category.name %></td>
          <td><%= truncate(category.description, length: 60) %></td>
          <td><%= category.parent&.name || t('admin.categories.index.no_parent') %></td>
          <td>
            <%= link_to t('admin.categories.index.edit'),
                        edit_admin_category_path(category),
                        class: 'btn btn-sm btn-warning' %>

            <%= link_to t('admin.categories.index.delete'),
                        admin_category_path(category),
                        data: {
                          turbo_method: :delete,
                          turbo_confirm: t('admin.categories.index.confirm_delete')
                        },
                        class: 'btn btn-sm btn-danger' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
