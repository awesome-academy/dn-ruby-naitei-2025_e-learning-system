<h1>Ngân hàng Câu hỏi</h1>

<div class="mb-3">
  <%= link_to "Tạo câu hỏi mới", new_admin_question_path, class: "btn btn-primary" %>
</div>

<table class="table table-striped table-hover">
  <thead class="table-light">
    <tr>
      <th>Câu hỏi</th>
      <th>Loại</th>
      <th>Độ khó</th>
      <th>Gắn với (Khóa/Bài)</th>
      <th style="width: 150px;">Hành động</th>
    </tr>
  </thead>
  <tbody>
    <% @questions.each do |question| %>
      <tr>
        <td><%= truncate(question.question_text, length: 80) %></td>
        <td><%= question.question_type %></td>
        <td><%= question.difficulty %></td>
        <td>
          <% if question.course %>
            <span class="badge bg-secondary"><%= question.course.title %></span>
          <% elsif question.lesson %>
            <span class="badge bg-info"><%= question.lesson.title %></span>
          <% else %>
            <span class="text-muted">Chung</span>
          <% end %>
        </td>
        <td>
          <%= link_to "Sửa", edit_admin_question_path(question), class: "btn btn-sm btn-warning" %>
          <%= link_to "Xóa", admin_question_path(question), data: {
                turbo_method: :delete,
                turbo_confirm: "Bạn có chắc muốn xóa câu hỏi này?"
              }, class: "btn btn-sm btn-danger" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
